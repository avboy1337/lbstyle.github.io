<!DOCTYPE html>
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'nonce-whitelist'">

<body>
  Setting location with <code>iframe.contentWindow.location.href</code><br/>
  <iframe id="iframe_href" src="test_frame.html"></iframe>
  <hr>
  Setting location with <code>iframe.src</code><br/>
  <iframe id="iframe_src" src="test_frame.html"></iframe>
  <script nonce="whitelist">
    const iframeHref = document.querySelector("#iframe_href");
    iframeHref.addEventListener('load', () => {
      iframeHref.contentWindow.location.href = "data:text/plain;base64,SGVsbG8sIFdvcmxkIQ%3D%3D";
    });
    const iframeSrc = document.querySelector("#iframe_src");
    iframeSrc.addEventListener('load', () => {
      iframeSrc.src = "data:text/plain;base64,SGVsbG8sIFdvcmxkIQ%3D%3D";
    });
  </script>
</body>
