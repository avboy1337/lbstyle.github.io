<!DOCTYPE html>
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'nonce-whitelist'">

<body>
  Setting location with <code>iframe.contentWindow.location.href</code><br/>
  <iframe id="iframe_href" src="test_frame.html"></iframe>
  <hr>
  Setting location with <code>iframe.src</code><br/>
  <iframe id="iframe_src" src="test_frame.html"></iframe>
  <script nonce="whitelist">
    const iframeHref = document.querySelector("#iframe_href");
    iframeHref.addEventListener('load', () => {
    iframeHref.contentWindow.eval('(function(){location="javascript:alert(location)"})')
    });
    const iframeSrc = document.querySelector("#iframe_src");
    iframeSrc.addEventListener('load', () => {
      iframeSrc.src = "javascript:alert('2')";
    });
  </script>
</body>
